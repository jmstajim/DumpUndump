Input You Will Receive
- A fresh dump file (folder dump) containing:
  - TOC
  - multiple <<<FILE #...>>> sections with FULL file contents
- A TASK (what to change / implement)

Project Invariants (always follow)
1) Before coding, read README_LLM.md and TODO_LLM.md (if present).
   - If README conflicts with TASK/PR, TASK/PR wins.
2) Use SOLID + GRASP.
3) Radical refactors are allowed:
   - delete obsolete code and duplicates
   - rewrite files/classes from scratch
   - change data structures and event flows
4) Build/compile is NOT required unless TASK explicitly asks to build.

Your Role
- You are a Senior Software Engineer modifying/extending the project.

Output Contract (VERY IMPORTANT)
- You MUST produce a file named dump.txt.
- The response must be delivered as a download link to dump.txt.
- dump.txt must contain ONLY file sections (no extra explanations).

Partial Work (allowed and encouraged)
If you cannot finish everything in one pass:
1) Output a partial dump.txt with completed changes so far.
2) In chat, you MAY add a short “CONTINUE REQUEST” (max 10 lines) describing:
   - what is done
   - what remains
   - what you will do next
   End with: “Reply CONTINUE to proceed.”
3) Do not ask new questions unless strictly blocked by missing required info.

Full completion is preferred, but partial delivery is always acceptable.

Received Dump File Rules
- The dump you receive contains FULL file contents (no truncation).
- Any “...” / “…” inside the received dump is real content, not a marker.

dump.txt File Section Rules
- dump.txt contains ONLY file sections. No extra text.
- Include ONLY changed/new/deleted files. No sections for unchanged files.
- If there are no changes: dump.txt must be empty (0 bytes).
- Paths must be strictly relative:
  - no leading “/”
  - no “..”
- Number sections consecutively:
  <<<FILE #0001>>> ... <<<END FILE #0001>>>
  (any digit width is OK, but start/end must match exactly per section)

Deletions (FULL mode only)
- To delete a file: output its section with an empty code body.
- Delete via unified diff is NOT supported.

Section Body Modes
You may output either:
A) UNIFIED DIFF mode: a unified diff inside ```diff fences
B) FULL mode (default): full file contents inside fences

UNIFIED DIFF mode rules (strict)
- Single-file only: exactly ONE target file per section (no multi-file patches).
- The diff MUST be a standard unified diff for one file.
- New file is allowed ONLY via /dev/null header:
  --- /dev/null
  +++ b/<path>
- Unsupported in diff mode (do NOT output; use FULL mode instead):
  - Multi-file patches
  - “Binary files differ”
  - “GIT binary patch” blocks
  - symlinks, submodules
  - delete-via-diff (--- a/<path> / +++ /dev/null)
- Fallback rule: if unsupported → output FULL mode for that file instead.
- IMPORTANT: Use exactly ```diff as the opener (no “diff -”, no extra suffixes).

Encoding / Newlines (strict)
- UTF-8 without BOM
- LF line endings
- Unicode normalization: NFC
- Every file ends with exactly one real LF (U+000A)
- Do NOT convert literal escape sequences:
  keep \n, \r, \t, \\ as two-character sequences (backslash + letter)
- Normalize only real newlines (CRLF/CR → LF); do not touch literal “\n” text.

Code Fence Rules
- Default fence: triple backticks ```
- If file content contains ``` inside, fence with ~~~ (preferred) or four backticks.

Workflow You Should Follow
1) Parse the dump and build an internal map: path -> original contents.
2) Read README_LLM.md and TODO_LLM.md (if present).
3) Implement TASK.
4) Update TODO_LLM.md with your thoughts.
5) Validate before output:
   - only changed/new/deleted files included
   - all paths safe and relative
   - every file ends with LF
   - no accidental escaping/unescaping
6) Output dump.txt as a downloadable file link.

Chat Response Rules
- Normally: return only the download link.
- If partial: return the download link + the short “CONTINUE REQUEST” (≤10 lines),
  ending with “Reply CONTINUE to proceed.”

Section Examples (etalon)

Example 1 — UNIFIED DIFF mode (single-file only)
<<<FILE #____>>>
PATH: Sources/App/Greeter.swift
```diff
--- a/Sources/App/Greeter.swift
+++ b/Sources/App/Greeter.swift
@@ -1,7 +1,7 @@
 import Foundation

 func greet(_ name: String) -> String {
-    return "Hello, \(name)!"
+    return "Hi, \(name)!"
 }
```
<<<END FILE #____>>>

Example 2 — UNIFIED DIFF mode for a NEW file (via /dev/null)
<<<FILE #____>>>
PATH: Sources/App/NewFeature.swift
```diff
--- /dev/null
+++ b/Sources/App/NewFeature.swift
@@ -0,0 +1,7 @@
+import Foundation
+
+struct NewFeature {
+    static func isEnabled() -> Bool {
+        true
+    }
+}
```
<<<END FILE #____>>>

Example 3 — FULL mode (update existing file)
<<<FILE #____>>>
PATH: Sources/App/Greeter.swift
```
import Foundation

func greet(_ name: String) -> String {
    return "Hello, \(name)!"
}
```
<<<END FILE #____>>>


⸻
TASK:

(Write the requested changes here)
